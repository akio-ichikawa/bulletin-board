"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/posts/route";
exports.ids = ["app/api/posts/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "@prisma/client/runtime/library":
/*!*************************************************!*\
  !*** external "@prisma/client/runtime/library" ***!
  \*************************************************/
/***/ ((module) => {

module.exports = require("@prisma/client/runtime/library");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("querystring");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fposts%2Froute&page=%2Fapi%2Fposts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fposts%2Froute.ts&appDir=C%3A%5CUsers%5Cakio5%5CDesktop%5C%E6%8E%B2%E7%A4%BA%E6%9D%BF%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cakio5%5CDesktop%5C%E6%8E%B2%E7%A4%BA%E6%9D%BF&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fposts%2Froute&page=%2Fapi%2Fposts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fposts%2Froute.ts&appDir=C%3A%5CUsers%5Cakio5%5CDesktop%5C%E6%8E%B2%E7%A4%BA%E6%9D%BF%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cakio5%5CDesktop%5C%E6%8E%B2%E7%A4%BA%E6%9D%BF&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_akio5_Desktop_src_app_api_posts_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/posts/route.ts */ \"(rsc)/./src/app/api/posts/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/posts/route\",\n        pathname: \"/api/posts\",\n        filename: \"route\",\n        bundlePath: \"app/api/posts/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\akio5\\\\Desktop\\\\掲示板\\\\src\\\\app\\\\api\\\\posts\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_akio5_Desktop_src_app_api_posts_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/posts/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZwb3N0cyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGcG9zdHMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZwb3N0cyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNha2lvNSU1Q0Rlc2t0b3AlNUMlRTYlOEUlQjIlRTclQTQlQkElRTYlOUQlQkYlNUNzcmMlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUMlM0ElNUNVc2VycyU1Q2FraW81JTVDRGVza3RvcCU1QyVFNiU4RSVCMiVFNyVBNCVCQSVFNiU5RCVCRiZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDYztBQUMzRjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL2J1bGxldGluLWJvYXJkLz9mNDU4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXGFraW81XFxcXERlc2t0b3BcXFxc5o6y56S65p2/XFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXHBvc3RzXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9wb3N0cy9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3Bvc3RzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9wb3N0cy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXGFraW81XFxcXERlc2t0b3BcXFxc5o6y56S65p2/XFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXHBvc3RzXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9wb3N0cy9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fposts%2Froute&page=%2Fapi%2Fposts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fposts%2Froute.ts&appDir=C%3A%5CUsers%5Cakio5%5CDesktop%5C%E6%8E%B2%E7%A4%BA%E6%9D%BF%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cakio5%5CDesktop%5C%E6%8E%B2%E7%A4%BA%E6%9D%BF&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/posts/route.ts":
/*!************************************!*\
  !*** ./src/app/api/posts/route.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth */ \"(rsc)/./node_modules/next-auth/index.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/prisma */ \"(rsc)/./src/lib/prisma.ts\");\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./src/lib/auth.ts\");\n\n\n\n\n// 文字列を正規化する関数\nfunction normalizeText(text) {\n    // 半角カタカナを全角カタカナに変換\n    const hankakuToZenkaku = (str)=>{\n        return str.replace(/[\\uFF61-\\uFF9F]/g, (s)=>{\n            return String.fromCharCode(s.charCodeAt(0) + 0xFEE0);\n        });\n    };\n    // 全角英数字を半角に変換\n    const zenkakuToHankaku = (str)=>{\n        return str.replace(/[\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF10-\\uFF19]/g, (s)=>{\n            return String.fromCharCode(s.charCodeAt(0) - 0xFEE0);\n        });\n    };\n    // 全角スペースを半角に変換\n    const zenkakuSpaceToHankaku = (str)=>{\n        return str.replace(/　/g, \" \");\n    };\n    // 連続する空白を1つに置換\n    const normalizeSpaces = (str)=>{\n        return str.replace(/\\s+/g, \" \").trim();\n    };\n    // 小文字に変換\n    const toLowerCase = (str)=>{\n        return str.toLowerCase();\n    };\n    // すべての正規化処理を適用\n    return normalizeSpaces(zenkakuSpaceToHankaku(zenkakuToHankaku(hankakuToZenkaku(toLowerCase(text)))));\n}\n// 過去の投稿を削除する関数\nasync function deletePastPosts() {\n    const today = new Date().toISOString().split(\"T\")[0];\n    await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.post.deleteMany({\n        where: {\n            date: {\n                lt: today\n            }\n        }\n    });\n}\n// POSTリクエストの処理\nasync function POST(request) {\n    try {\n        const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_1__.getServerSession)(_lib_auth__WEBPACK_IMPORTED_MODULE_3__.authOptions);\n        if (!session?.user?.email) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        const { eventName, artistName, date, time, location, website, comment } = await request.json();\n        // 必須フィールドのバリデーション\n        if (!eventName || !date || !time || !location) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"イベント名、日付、時間、場所は必須です\"\n            }, {\n                status: 400\n            });\n        }\n        // 日付の検証\n        const today = new Date().toISOString().split(\"T\")[0];\n        if (date < today) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"過去の日付では投稿できません\"\n            }, {\n                status: 400\n            });\n        }\n        // ユーザーの取得\n        const user = await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.user.findUnique({\n            where: {\n                email: session.user.email\n            }\n        });\n        if (!user) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"ユーザーが見つかりません\"\n            }, {\n                status: 404\n            });\n        }\n        // 投稿の作成\n        const post = await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.post.create({\n            data: {\n                eventName,\n                artistName: artistName || \"\",\n                date,\n                time,\n                location,\n                website: website || \"\",\n                comment: comment || \"\",\n                userId: user.id\n            }\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(post);\n    } catch (error) {\n        console.error(\"Error creating post:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"投稿の作成中にエラーが発生しました\"\n        }, {\n            status: 500\n        });\n    }\n}\n// GETリクエストの処理\nasync function GET(request) {\n    const { searchParams } = new URL(request.url);\n    const query = searchParams.get(\"q\");\n    try {\n        // 過去の投稿を削除\n        await deletePastPosts();\n        // 検索クエリを正規化\n        const normalizedQuery = query ? normalizeText(query) : null;\n        console.log(\"Normalized query:\", normalizedQuery);\n        // 検索条件を構築\n        let whereCondition = undefined;\n        let dateStr = null;\n        // 今日の日付を取得\n        const today = new Date().toISOString().split(\"T\")[0];\n        // 基本の検索条件に今日以降の日付を追加\n        whereCondition = {\n            date: {\n                gte: today\n            }\n        };\n        if (normalizedQuery) {\n            // 日付検索のための処理\n            const dateRegex = /(\\d{4}-\\d{2}-\\d{2})/;\n            const dateMatch = normalizedQuery.match(dateRegex);\n            dateStr = dateMatch ? dateMatch[1] : null;\n            // テキスト検索用のクエリ（日付部分を除去）\n            const textQuery = dateStr ? normalizedQuery.replace(dateStr, \"\").trim() : normalizedQuery;\n            // 検索条件の構築\n            const conditions = [];\n            // 日付条件の追加\n            if (dateStr) {\n                conditions.push({\n                    date: dateStr\n                });\n            }\n            // テキスト検索条件の追加\n            if (textQuery) {\n                conditions.push({\n                    OR: [\n                        {\n                            eventName: {\n                                contains: textQuery\n                            }\n                        },\n                        {\n                            artistName: {\n                                contains: textQuery\n                            }\n                        },\n                        {\n                            location: {\n                                contains: textQuery\n                            }\n                        },\n                        {\n                            comment: {\n                                contains: textQuery\n                            }\n                        }\n                    ]\n                });\n            }\n            // 条件が存在する場合、ANDで結合\n            if (conditions.length > 0) {\n                whereCondition = {\n                    AND: [\n                        {\n                            date: {\n                                gte: today\n                            }\n                        },\n                        ...conditions\n                    ]\n                };\n            }\n        }\n        console.log(\"Where condition:\", JSON.stringify(whereCondition));\n        // 投稿を取得\n        const posts = await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.post.findMany({\n            where: whereCondition,\n            orderBy: [\n                {\n                    date: \"asc\"\n                },\n                {\n                    time: \"asc\"\n                }\n            ],\n            include: {\n                user: {\n                    select: {\n                        id: true,\n                        email: true\n                    }\n                }\n            }\n        });\n        // より柔軟な検索を実装\n        const filteredPosts = normalizedQuery && !dateStr ? posts.filter((post)=>{\n            // 検索対象のテキストを正規化\n            const eventName = normalizeText(post.eventName);\n            const artistName = normalizeText(post.artistName || \"\");\n            const location = normalizeText(post.location);\n            const comment = normalizeText(post.comment || \"\");\n            // 検索クエリを空白で分割\n            const queryParts = normalizedQuery.split(/\\s+/).filter((part)=>part.length > 0);\n            // 各部分が検索対象に含まれているかチェック\n            return queryParts.every((part)=>{\n                // 部分一致で検索\n                return eventName.includes(part) || artistName.includes(part) || location.includes(part) || comment.includes(part);\n            });\n        }) : posts;\n        console.log(`Found ${filteredPosts.length} posts`);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(filteredPosts);\n    } catch (error) {\n        console.error(\"Error fetching posts:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"投稿の取得中にエラーが発生しました\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bUIsQ0FBQ0ksVUFDdENjLE1BQU1NLE1BQU0sQ0FBQyxDQUFDdkQ7WUFDWixnQkFBZ0I7WUFDaEIsTUFBTWEsWUFBWWhDLGNBQWNtQixLQUFLYSxTQUFTO1lBQzlDLE1BQU1DLGFBQWFqQyxjQUFjbUIsS0FBS2MsVUFBVSxJQUFJO1lBQ3BELE1BQU1FLFdBQVduQyxjQUFjbUIsS0FBS2dCLFFBQVE7WUFDNUMsTUFBTUUsVUFBVXJDLGNBQWNtQixLQUFLa0IsT0FBTyxJQUFJO1lBRTlDLGNBQWM7WUFDZCxNQUFNc0MsYUFBYXpCLGdCQUFnQmhDLEtBQUssQ0FBQyxPQUFPd0QsTUFBTSxDQUFDRSxDQUFBQSxPQUFRQSxLQUFLWixNQUFNLEdBQUc7WUFFN0UsdUJBQXVCO1lBQ3ZCLE9BQU9XLFdBQVdFLEtBQUssQ0FBQ0QsQ0FBQUE7Z0JBQ3RCLFVBQVU7Z0JBQ1YsT0FDRTVDLFVBQVU4QyxRQUFRLENBQUNGLFNBQ25CM0MsV0FBVzZDLFFBQVEsQ0FBQ0YsU0FDcEJ6QyxTQUFTMkMsUUFBUSxDQUFDRixTQUNsQnZDLFFBQVF5QyxRQUFRLENBQUNGO1lBRXJCO1FBQ0YsS0FDQVI7UUFFSnpCLFFBQVFRLEdBQUcsQ0FBQyxDQUFDLE1BQU0sRUFBRXNCLGNBQWNULE1BQU0sQ0FBQyxNQUFNLENBQUM7UUFDakQsT0FBT3BFLHFEQUFZQSxDQUFDaUMsSUFBSSxDQUFDNEM7SUFDM0IsRUFBRSxPQUFPM0MsT0FBTztRQUNkYSxRQUFRYixLQUFLLENBQUMseUJBQXlCQTtRQUN2QyxPQUFPbEMscURBQVlBLENBQUNpQyxJQUFJLENBQ3RCO1lBQUVDLE9BQU87UUFBb0IsR0FDN0I7WUFBRUMsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWxsZXRpbi1ib2FyZC8uL3NyYy9hcHAvYXBpL3Bvc3RzL3JvdXRlLnRzP2M5MzEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHsgZ2V0U2VydmVyU2Vzc2lvbiB9IGZyb20gJ25leHQtYXV0aCc7XG5pbXBvcnQgeyBwcmlzbWEgfSBmcm9tICdAL2xpYi9wcmlzbWEnO1xuaW1wb3J0IHsgYXV0aE9wdGlvbnMgfSBmcm9tICdAL2xpYi9hdXRoJztcblxuLy8g5paH5a2X5YiX44KS5q2j6KaP5YyW44GZ44KL6Zai5pWwXG5mdW5jdGlvbiBub3JtYWxpemVUZXh0KHRleHQ6IHN0cmluZyk6IHN0cmluZyB7XG4gIC8vIOWNiuinkuOCq+OCv+OCq+ODiuOCkuWFqOinkuOCq+OCv+OCq+ODiuOBq+WkieaPm1xuICBjb25zdCBoYW5rYWt1VG9aZW5rYWt1ID0gKHN0cjogc3RyaW5nKSA9PiB7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKC9bXFx1RkY2MS1cXHVGRjlGXS9nLCAocykgPT4ge1xuICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUocy5jaGFyQ29kZUF0KDApICsgMHhGRUUwKTtcbiAgICB9KTtcbiAgfTtcbiAgXG4gIC8vIOWFqOinkuiLseaVsOWtl+OCkuWNiuinkuOBq+WkieaPm1xuICBjb25zdCB6ZW5rYWt1VG9IYW5rYWt1ID0gKHN0cjogc3RyaW5nKSA9PiB7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKC9bXFx1RkYyMS1cXHVGRjNBXFx1RkY0MS1cXHVGRjVBXFx1RkYxMC1cXHVGRjE5XS9nLCAocykgPT4ge1xuICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUocy5jaGFyQ29kZUF0KDApIC0gMHhGRUUwKTtcbiAgICB9KTtcbiAgfTtcbiAgXG4gIC8vIOWFqOinkuOCueODmuODvOOCueOCkuWNiuinkuOBq+WkieaPm1xuICBjb25zdCB6ZW5rYWt1U3BhY2VUb0hhbmtha3UgPSAoc3RyOiBzdHJpbmcpID0+IHtcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoL+OAgC9nLCAnICcpO1xuICB9O1xuICBcbiAgLy8g6YCj57aa44GZ44KL56m655m944KSMeOBpOOBq+e9ruaPm1xuICBjb25zdCBub3JtYWxpemVTcGFjZXMgPSAoc3RyOiBzdHJpbmcpID0+IHtcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoL1xccysvZywgJyAnKS50cmltKCk7XG4gIH07XG4gIFxuICAvLyDlsI/mloflrZfjgavlpInmj5tcbiAgY29uc3QgdG9Mb3dlckNhc2UgPSAoc3RyOiBzdHJpbmcpID0+IHtcbiAgICByZXR1cm4gc3RyLnRvTG93ZXJDYXNlKCk7XG4gIH07XG4gIFxuICAvLyDjgZnjgbnjgabjga7mraPopo/ljJblh6bnkIbjgpLpgannlKhcbiAgcmV0dXJuIG5vcm1hbGl6ZVNwYWNlcyhcbiAgICB6ZW5rYWt1U3BhY2VUb0hhbmtha3UoXG4gICAgICB6ZW5rYWt1VG9IYW5rYWt1KFxuICAgICAgICBoYW5rYWt1VG9aZW5rYWt1KFxuICAgICAgICAgIHRvTG93ZXJDYXNlKHRleHQpXG4gICAgICAgIClcbiAgICAgIClcbiAgICApXG4gICk7XG59XG5cbi8vIOmBjuWOu+OBruaKleeov+OCkuWJiumZpOOBmeOCi+mWouaVsFxuYXN5bmMgZnVuY3Rpb24gZGVsZXRlUGFzdFBvc3RzKCkge1xuICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdO1xuICBcbiAgYXdhaXQgcHJpc21hLnBvc3QuZGVsZXRlTWFueSh7XG4gICAgd2hlcmU6IHtcbiAgICAgIGRhdGU6IHtcbiAgICAgICAgbHQ6IHRvZGF5XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cblxuLy8gUE9TVOODquOCr+OCqOOCueODiOOBruWHpueQhlxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogUmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBnZXRTZXJ2ZXJTZXNzaW9uKGF1dGhPcHRpb25zKTtcbiAgICBpZiAoIXNlc3Npb24/LnVzZXI/LmVtYWlsKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ1VuYXV0aG9yaXplZCcgfSwgeyBzdGF0dXM6IDQwMSB9KTtcbiAgICB9XG5cbiAgICBjb25zdCB7IGV2ZW50TmFtZSwgYXJ0aXN0TmFtZSwgZGF0ZSwgdGltZSwgbG9jYXRpb24sIHdlYnNpdGUsIGNvbW1lbnQgfSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xuICAgIFxuICAgIC8vIOW/hemgiOODleOCo+ODvOODq+ODieOBruODkOODquODh+ODvOOCt+ODp+ODs1xuICAgIGlmICghZXZlbnROYW1lIHx8ICFkYXRlIHx8ICF0aW1lIHx8ICFsb2NhdGlvbikge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAn44Kk44OZ44Oz44OI5ZCN44CB5pel5LuY44CB5pmC6ZaT44CB5aC05omA44Gv5b+F6aCI44Gn44GZJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8g5pel5LuY44Gu5qSc6Ki8XG4gICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXTtcbiAgICBpZiAoZGF0ZSA8IHRvZGF5KSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ+mBjuWOu+OBruaXpeS7mOOBp+OBr+aKleeov+OBp+OBjeOBvuOBm+OCkycgfSwgeyBzdGF0dXM6IDQwMCB9KTtcbiAgICB9XG5cbiAgICAvLyDjg6bjg7zjgrbjg7zjga7lj5blvpdcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgcHJpc21hLnVzZXIuZmluZFVuaXF1ZSh7XG4gICAgICB3aGVyZTogeyBlbWFpbDogc2Vzc2lvbi51c2VyLmVtYWlsIH1cbiAgICB9KTtcblxuICAgIGlmICghdXNlcikge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICfjg6bjg7zjgrbjg7zjgYzopovjgaTjgYvjgorjgb7jgZvjgpMnIH0sIHsgc3RhdHVzOiA0MDQgfSk7XG4gICAgfVxuXG4gICAgLy8g5oqV56i/44Gu5L2c5oiQXG4gICAgY29uc3QgcG9zdCA9IGF3YWl0IHByaXNtYS5wb3N0LmNyZWF0ZSh7XG4gICAgICBkYXRhOiB7XG4gICAgICAgIGV2ZW50TmFtZSxcbiAgICAgICAgYXJ0aXN0TmFtZTogYXJ0aXN0TmFtZSB8fCAnJyxcbiAgICAgICAgZGF0ZSxcbiAgICAgICAgdGltZSxcbiAgICAgICAgbG9jYXRpb24sXG4gICAgICAgIHdlYnNpdGU6IHdlYnNpdGUgfHwgJycsXG4gICAgICAgIGNvbW1lbnQ6IGNvbW1lbnQgfHwgJycsXG4gICAgICAgIHVzZXJJZDogdXNlci5pZFxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHBvc3QpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIHBvc3Q6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAn5oqV56i/44Gu5L2c5oiQ5Lit44Gr44Ko44Op44O844GM55m655Sf44GX44G+44GX44GfJyB9LCB7IHN0YXR1czogNTAwIH0pO1xuICB9XG59XG5cbi8vIEdFVOODquOCr+OCqOOCueODiOOBruWHpueQhlxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBSZXF1ZXN0KSB7XG4gIGNvbnN0IHsgc2VhcmNoUGFyYW1zIH0gPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcbiAgY29uc3QgcXVlcnkgPSBzZWFyY2hQYXJhbXMuZ2V0KCdxJyk7XG5cbiAgdHJ5IHtcbiAgICAvLyDpgY7ljrvjga7mipXnqL/jgpLliYrpmaRcbiAgICBhd2FpdCBkZWxldGVQYXN0UG9zdHMoKTtcblxuICAgIC8vIOaknOe0ouOCr+OCqOODquOCkuato+imj+WMllxuICAgIGNvbnN0IG5vcm1hbGl6ZWRRdWVyeSA9IHF1ZXJ5ID8gbm9ybWFsaXplVGV4dChxdWVyeSkgOiBudWxsO1xuICAgIGNvbnNvbGUubG9nKCdOb3JtYWxpemVkIHF1ZXJ5OicsIG5vcm1hbGl6ZWRRdWVyeSk7XG5cbiAgICAvLyDmpJzntKLmnaHku7bjgpLmp4vnr4lcbiAgICBsZXQgd2hlcmVDb25kaXRpb24gPSB1bmRlZmluZWQ7XG4gICAgbGV0IGRhdGVTdHIgPSBudWxsO1xuICAgIFxuICAgIC8vIOS7iuaXpeOBruaXpeS7mOOCkuWPluW+l1xuICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF07XG4gICAgXG4gICAgLy8g5Z+65pys44Gu5qSc57Si5p2h5Lu244Gr5LuK5pel5Lul6ZmN44Gu5pel5LuY44KS6L+95YqgXG4gICAgd2hlcmVDb25kaXRpb24gPSB7XG4gICAgICBkYXRlOiB7XG4gICAgICAgIGd0ZTogdG9kYXlcbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIGlmIChub3JtYWxpemVkUXVlcnkpIHtcbiAgICAgIC8vIOaXpeS7mOaknOe0ouOBruOBn+OCgeOBruWHpueQhlxuICAgICAgY29uc3QgZGF0ZVJlZ2V4ID0gLyhcXGR7NH0tXFxkezJ9LVxcZHsyfSkvO1xuICAgICAgY29uc3QgZGF0ZU1hdGNoID0gbm9ybWFsaXplZFF1ZXJ5Lm1hdGNoKGRhdGVSZWdleCk7XG4gICAgICBkYXRlU3RyID0gZGF0ZU1hdGNoID8gZGF0ZU1hdGNoWzFdIDogbnVsbDtcbiAgICAgIFxuICAgICAgLy8g44OG44Kt44K544OI5qSc57Si55So44Gu44Kv44Ko44Oq77yI5pel5LuY6YOo5YiG44KS6Zmk5Y6777yJXG4gICAgICBjb25zdCB0ZXh0UXVlcnkgPSBkYXRlU3RyIFxuICAgICAgICA/IG5vcm1hbGl6ZWRRdWVyeS5yZXBsYWNlKGRhdGVTdHIsICcnKS50cmltKClcbiAgICAgICAgOiBub3JtYWxpemVkUXVlcnk7XG5cbiAgICAgIC8vIOaknOe0ouadoeS7tuOBruani+eviVxuICAgICAgY29uc3QgY29uZGl0aW9ucyA9IFtdO1xuXG4gICAgICAvLyDml6Xku5jmnaHku7bjga7ov73liqBcbiAgICAgIGlmIChkYXRlU3RyKSB7XG4gICAgICAgIGNvbmRpdGlvbnMucHVzaCh7XG4gICAgICAgICAgZGF0ZTogZGF0ZVN0clxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8g44OG44Kt44K544OI5qSc57Si5p2h5Lu244Gu6L+95YqgXG4gICAgICBpZiAodGV4dFF1ZXJ5KSB7XG4gICAgICAgIGNvbmRpdGlvbnMucHVzaCh7XG4gICAgICAgICAgT1I6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgZXZlbnROYW1lOiB7XG4gICAgICAgICAgICAgICAgY29udGFpbnM6IHRleHRRdWVyeSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGFydGlzdE5hbWU6IHtcbiAgICAgICAgICAgICAgICBjb250YWluczogdGV4dFF1ZXJ5LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgbG9jYXRpb246IHtcbiAgICAgICAgICAgICAgICBjb250YWluczogdGV4dFF1ZXJ5LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgY29tbWVudDoge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5zOiB0ZXh0UXVlcnksXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyDmnaHku7bjgYzlrZjlnKjjgZnjgovloLTlkIjjgIFBTkTjgafntZDlkIhcbiAgICAgIGlmIChjb25kaXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgd2hlcmVDb25kaXRpb24gPSB7XG4gICAgICAgICAgQU5EOiBbXG4gICAgICAgICAgICB7IGRhdGU6IHsgZ3RlOiB0b2RheSB9IH0sXG4gICAgICAgICAgICAuLi5jb25kaXRpb25zXG4gICAgICAgICAgXVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCdXaGVyZSBjb25kaXRpb246JywgSlNPTi5zdHJpbmdpZnkod2hlcmVDb25kaXRpb24pKTtcblxuICAgIC8vIOaKleeov+OCkuWPluW+l1xuICAgIGNvbnN0IHBvc3RzID0gYXdhaXQgcHJpc21hLnBvc3QuZmluZE1hbnkoe1xuICAgICAgd2hlcmU6IHdoZXJlQ29uZGl0aW9uLFxuICAgICAgb3JkZXJCeTogW1xuICAgICAgICB7XG4gICAgICAgICAgZGF0ZTogJ2FzYycsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0aW1lOiAnYXNjJyxcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgdXNlcjoge1xuICAgICAgICAgIHNlbGVjdDoge1xuICAgICAgICAgICAgaWQ6IHRydWUsXG4gICAgICAgICAgICBlbWFpbDogdHJ1ZSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8vIOOCiOOCiuaflOi7n+OBquaknOe0ouOCkuWun+ijhVxuICAgIGNvbnN0IGZpbHRlcmVkUG9zdHMgPSBub3JtYWxpemVkUXVlcnkgJiYgIWRhdGVTdHJcbiAgICAgID8gcG9zdHMuZmlsdGVyKChwb3N0OiBhbnkpID0+IHtcbiAgICAgICAgICAvLyDmpJzntKLlr77osaHjga7jg4bjgq3jgrnjg4jjgpLmraPopo/ljJZcbiAgICAgICAgICBjb25zdCBldmVudE5hbWUgPSBub3JtYWxpemVUZXh0KHBvc3QuZXZlbnROYW1lKTtcbiAgICAgICAgICBjb25zdCBhcnRpc3ROYW1lID0gbm9ybWFsaXplVGV4dChwb3N0LmFydGlzdE5hbWUgfHwgJycpO1xuICAgICAgICAgIGNvbnN0IGxvY2F0aW9uID0gbm9ybWFsaXplVGV4dChwb3N0LmxvY2F0aW9uKTtcbiAgICAgICAgICBjb25zdCBjb21tZW50ID0gbm9ybWFsaXplVGV4dChwb3N0LmNvbW1lbnQgfHwgJycpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIOaknOe0ouOCr+OCqOODquOCkuepuueZveOBp+WIhuWJslxuICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFydHMgPSBub3JtYWxpemVkUXVlcnkuc3BsaXQoL1xccysvKS5maWx0ZXIocGFydCA9PiBwYXJ0Lmxlbmd0aCA+IDApO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIOWQhOmDqOWIhuOBjOaknOe0ouWvvuixoeOBq+WQq+OBvuOCjOOBpuOBhOOCi+OBi+ODgeOCp+ODg+OCr1xuICAgICAgICAgIHJldHVybiBxdWVyeVBhcnRzLmV2ZXJ5KHBhcnQgPT4ge1xuICAgICAgICAgICAgLy8g6YOo5YiG5LiA6Ie044Gn5qSc57SiXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICBldmVudE5hbWUuaW5jbHVkZXMocGFydCkgfHxcbiAgICAgICAgICAgICAgYXJ0aXN0TmFtZS5pbmNsdWRlcyhwYXJ0KSB8fFxuICAgICAgICAgICAgICBsb2NhdGlvbi5pbmNsdWRlcyhwYXJ0KSB8fFxuICAgICAgICAgICAgICBjb21tZW50LmluY2x1ZGVzKHBhcnQpXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgICAgOiBwb3N0cztcblxuICAgIGNvbnNvbGUubG9nKGBGb3VuZCAke2ZpbHRlcmVkUG9zdHMubGVuZ3RofSBwb3N0c2ApO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihmaWx0ZXJlZFBvc3RzKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBwb3N0czonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogJ+aKleeov+OBruWPluW+l+S4reOBq+OCqOODqeODvOOBjOeZuueUn+OBl+OBvuOBl+OBnycgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn0gIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImdldFNlcnZlclNlc3Npb24iLCJwcmlzbWEiLCJhdXRoT3B0aW9ucyIsIm5vcm1hbGl6ZVRleHQiLCJ0ZXh0IiwiaGFua2FrdVRvWmVua2FrdSIsInN0ciIsInJlcGxhY2UiLCJzIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiY2hhckNvZGVBdCIsInplbmtha3VUb0hhbmtha3UiLCJ6ZW5rYWt1U3BhY2VUb0hhbmtha3UiLCJub3JtYWxpemVTcGFjZXMiLCJ0cmltIiwidG9Mb3dlckNhc2UiLCJkZWxldGVQYXN0UG9zdHMiLCJ0b2RheSIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInNwbGl0IiwicG9zdCIsImRlbGV0ZU1hbnkiLCJ3aGVyZSIsImRhdGUiLCJsdCIsIlBPU1QiLCJyZXF1ZXN0Iiwic2Vzc2lvbiIsInVzZXIiLCJlbWFpbCIsImpzb24iLCJlcnJvciIsInN0YXR1cyIsImV2ZW50TmFtZSIsImFydGlzdE5hbWUiLCJ0aW1lIiwibG9jYXRpb24iLCJ3ZWJzaXRlIiwiY29tbWVudCIsImZpbmRVbmlxdWUiLCJjcmVhdGUiLCJkYXRhIiwidXNlcklkIiwiaWQiLCJjb25zb2xlIiwiR0VUIiwic2VhcmNoUGFyYW1zIiwiVVJMIiwidXJsIiwicXVlcnkiLCJnZXQiLCJub3JtYWxpemVkUXVlcnkiLCJsb2ciLCJ3aGVyZUNvbmRpdGlvbiIsInVuZGVmaW5lZCIsImRhdGVTdHIiLCJndGUiLCJkYXRlUmVnZXgiLCJkYXRlTWF0Y2giLCJtYXRjaCIsInRleHRRdWVyeSIsImNvbmRpdGlvbnMiLCJwdXNoIiwiT1IiLCJjb250YWlucyIsImxlbmd0aCIsIkFORCIsIkpTT04iLCJzdHJpbmdpZnkiLCJwb3N0cyIsImZpbmRNYW55Iiwib3JkZXJCeSIsImluY2x1ZGUiLCJzZWxlY3QiLCJmaWx0ZXJlZFBvc3RzIiwiZmlsdGVyIiwicXVlcnlQYXJ0cyIsInBhcnQiLCJldmVyeSIsImluY2x1ZGVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/posts/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/auth.ts":
/*!*************************!*\
  !*** ./src/lib/auth.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authOptions: () => (/* binding */ authOptions),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth/providers/credentials */ \"(rsc)/./node_modules/next-auth/providers/credentials.js\");\n/* harmony import */ var _auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @auth/prisma-adapter */ \"(rsc)/./node_modules/@auth/prisma-adapter/index.js\");\n/* harmony import */ var _prisma__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./prisma */ \"(rsc)/./src/lib/prisma.ts\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n\n\n\n\nif (!process.env.NEXTAUTH_SECRET) {\n    throw new Error(\"NEXTAUTH_SECRET environment variable is not set\");\n}\nconst authOptions = {\n    adapter: (0,_auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_1__.PrismaAdapter)(_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma),\n    providers: [\n        (0,next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n            name: \"credentials\",\n            credentials: {\n                email: {\n                    label: \"Email\",\n                    type: \"email\"\n                },\n                password: {\n                    label: \"Password\",\n                    type: \"password\"\n                }\n            },\n            async authorize (credentials) {\n                if (!credentials?.email || !credentials?.password) {\n                    throw new Error(\"メールアドレスとパスワードを入力してください\");\n                }\n                try {\n                    const user = await _prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.user.findUnique({\n                        where: {\n                            email: credentials.email\n                        }\n                    });\n                    if (!user) {\n                        throw new Error(\"ユーザーが見つかりません\");\n                    }\n                    const isPasswordValid = await bcryptjs__WEBPACK_IMPORTED_MODULE_3__[\"default\"].compare(credentials.password, user.password);\n                    if (!isPasswordValid) {\n                        throw new Error(\"パスワードが正しくありません\");\n                    }\n                    return {\n                        id: user.id,\n                        email: user.email,\n                        name: user.name\n                    };\n                } catch (error) {\n                    console.error(\"Authentication error:\", error);\n                    throw error;\n                }\n            }\n        })\n    ],\n    session: {\n        strategy: \"jwt\"\n    },\n    pages: {\n        signIn: \"/auth/signin\"\n    },\n    callbacks: {\n        async jwt ({ token, user }) {\n            if (user) {\n                token.id = user.id;\n            }\n            return token;\n        },\n        async session ({ session, token }) {\n            if (session.user) {\n                session.user.id = token.id;\n            }\n            return session;\n        }\n    },\n    secret: process.env.NEXTAUTH_SECRET,\n    debug: \"development\" === \"development\"\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (authOptions);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2F1dGgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQ2tFO0FBQ2I7QUFDbkI7QUFDSjtBQUU5QixJQUFJLENBQUNJLFFBQVFDLEdBQUcsQ0FBQ0MsZUFBZSxFQUFFO0lBQ2hDLE1BQU0sSUFBSUMsTUFBTTtBQUNsQjtBQUVPLE1BQU1DLGNBQStCO0lBQzFDQyxTQUFTUixtRUFBYUEsQ0FBQ0MsMkNBQU1BO0lBQzdCUSxXQUFXO1FBQ1RWLDJFQUFtQkEsQ0FBQztZQUNsQlcsTUFBTTtZQUNOQyxhQUFhO2dCQUNYQyxPQUFPO29CQUFFQyxPQUFPO29CQUFTQyxNQUFNO2dCQUFRO2dCQUN2Q0MsVUFBVTtvQkFBRUYsT0FBTztvQkFBWUMsTUFBTTtnQkFBVztZQUNsRDtZQUNBLE1BQU1FLFdBQVVMLFdBQVc7Z0JBQ3pCLElBQUksQ0FBQ0EsYUFBYUMsU0FBUyxDQUFDRCxhQUFhSSxVQUFVO29CQUNqRCxNQUFNLElBQUlULE1BQU07Z0JBQ2xCO2dCQUVBLElBQUk7b0JBQ0YsTUFBTVcsT0FBTyxNQUFNaEIsMkNBQU1BLENBQUNnQixJQUFJLENBQUNDLFVBQVUsQ0FBQzt3QkFDeENDLE9BQU87NEJBQUVQLE9BQU9ELFlBQVlDLEtBQUs7d0JBQUM7b0JBQ3BDO29CQUVBLElBQUksQ0FBQ0ssTUFBTTt3QkFDVCxNQUFNLElBQUlYLE1BQU07b0JBQ2xCO29CQUVBLE1BQU1jLGtCQUFrQixNQUFNbEIsd0RBQWMsQ0FDMUNTLFlBQVlJLFFBQVEsRUFDcEJFLEtBQUtGLFFBQVE7b0JBR2YsSUFBSSxDQUFDSyxpQkFBaUI7d0JBQ3BCLE1BQU0sSUFBSWQsTUFBTTtvQkFDbEI7b0JBRUEsT0FBTzt3QkFDTGdCLElBQUlMLEtBQUtLLEVBQUU7d0JBQ1hWLE9BQU9LLEtBQUtMLEtBQUs7d0JBQ2pCRixNQUFNTyxLQUFLUCxJQUFJO29CQUNqQjtnQkFDRixFQUFFLE9BQU9hLE9BQU87b0JBQ2RDLFFBQVFELEtBQUssQ0FBQyx5QkFBeUJBO29CQUN2QyxNQUFNQTtnQkFDUjtZQUNGO1FBQ0Y7S0FDRDtJQUNERSxTQUFTO1FBQ1BDLFVBQVU7SUFDWjtJQUNBQyxPQUFPO1FBQ0xDLFFBQVE7SUFDVjtJQUNBQyxXQUFXO1FBQ1QsTUFBTUMsS0FBSSxFQUFFQyxLQUFLLEVBQUVkLElBQUksRUFBRTtZQUN2QixJQUFJQSxNQUFNO2dCQUNSYyxNQUFNVCxFQUFFLEdBQUdMLEtBQUtLLEVBQUU7WUFDcEI7WUFDQSxPQUFPUztRQUNUO1FBQ0EsTUFBTU4sU0FBUSxFQUFFQSxPQUFPLEVBQUVNLEtBQUssRUFBRTtZQUM5QixJQUFJTixRQUFRUixJQUFJLEVBQUU7Z0JBQ2hCUSxRQUFRUixJQUFJLENBQUNLLEVBQUUsR0FBR1MsTUFBTVQsRUFBRTtZQUM1QjtZQUNBLE9BQU9HO1FBQ1Q7SUFDRjtJQUNBTyxRQUFRN0IsUUFBUUMsR0FBRyxDQUFDQyxlQUFlO0lBQ25DNEIsT0FBTzlCLGtCQUF5QjtBQUNsQyxFQUFFO0FBRUYsaUVBQWVJLFdBQVdBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWxsZXRpbi1ib2FyZC8uL3NyYy9saWIvYXV0aC50cz82NjkyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRBdXRoT3B0aW9ucyB9IGZyb20gJ25leHQtYXV0aCc7XG5pbXBvcnQgQ3JlZGVudGlhbHNQcm92aWRlciBmcm9tICduZXh0LWF1dGgvcHJvdmlkZXJzL2NyZWRlbnRpYWxzJztcbmltcG9ydCB7IFByaXNtYUFkYXB0ZXIgfSBmcm9tICdAYXV0aC9wcmlzbWEtYWRhcHRlcic7XG5pbXBvcnQgeyBwcmlzbWEgfSBmcm9tICcuL3ByaXNtYSc7XG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdGpzJztcblxuaWYgKCFwcm9jZXNzLmVudi5ORVhUQVVUSF9TRUNSRVQpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdORVhUQVVUSF9TRUNSRVQgZW52aXJvbm1lbnQgdmFyaWFibGUgaXMgbm90IHNldCcpO1xufVxuXG5leHBvcnQgY29uc3QgYXV0aE9wdGlvbnM6IE5leHRBdXRoT3B0aW9ucyA9IHtcbiAgYWRhcHRlcjogUHJpc21hQWRhcHRlcihwcmlzbWEpLFxuICBwcm92aWRlcnM6IFtcbiAgICBDcmVkZW50aWFsc1Byb3ZpZGVyKHtcbiAgICAgIG5hbWU6ICdjcmVkZW50aWFscycsXG4gICAgICBjcmVkZW50aWFsczoge1xuICAgICAgICBlbWFpbDogeyBsYWJlbDogJ0VtYWlsJywgdHlwZTogJ2VtYWlsJyB9LFxuICAgICAgICBwYXNzd29yZDogeyBsYWJlbDogJ1Bhc3N3b3JkJywgdHlwZTogJ3Bhc3N3b3JkJyB9LFxuICAgICAgfSxcbiAgICAgIGFzeW5jIGF1dGhvcml6ZShjcmVkZW50aWFscykge1xuICAgICAgICBpZiAoIWNyZWRlbnRpYWxzPy5lbWFpbCB8fCAhY3JlZGVudGlhbHM/LnBhc3N3b3JkKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCfjg6Hjg7zjg6vjgqLjg4njg6zjgrnjgajjg5Hjgrnjg6/jg7zjg4njgpLlhaXlipvjgZfjgabjgY/jgaDjgZXjgYQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IHByaXNtYS51c2VyLmZpbmRVbmlxdWUoe1xuICAgICAgICAgICAgd2hlcmU6IHsgZW1haWw6IGNyZWRlbnRpYWxzLmVtYWlsIH0sXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcign44Om44O844K244O844GM6KaL44Gk44GL44KK44G+44Gb44KTJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgaXNQYXNzd29yZFZhbGlkID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUoXG4gICAgICAgICAgICBjcmVkZW50aWFscy5wYXNzd29yZCxcbiAgICAgICAgICAgIHVzZXIucGFzc3dvcmRcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgaWYgKCFpc1Bhc3N3b3JkVmFsaWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcign44OR44K544Ov44O844OJ44GM5q2j44GX44GP44GC44KK44G+44Gb44KTJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlkOiB1c2VyLmlkLFxuICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICAgICAgICBuYW1lOiB1c2VyLm5hbWUsXG4gICAgICAgICAgfTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdBdXRoZW50aWNhdGlvbiBlcnJvcjonLCBlcnJvcik7XG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSksXG4gIF0sXG4gIHNlc3Npb246IHtcbiAgICBzdHJhdGVneTogJ2p3dCcsXG4gIH0sXG4gIHBhZ2VzOiB7XG4gICAgc2lnbkluOiAnL2F1dGgvc2lnbmluJyxcbiAgfSxcbiAgY2FsbGJhY2tzOiB7XG4gICAgYXN5bmMgand0KHsgdG9rZW4sIHVzZXIgfSkge1xuICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgdG9rZW4uaWQgPSB1c2VyLmlkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH0sXG4gICAgYXN5bmMgc2Vzc2lvbih7IHNlc3Npb24sIHRva2VuIH0pIHtcbiAgICAgIGlmIChzZXNzaW9uLnVzZXIpIHtcbiAgICAgICAgc2Vzc2lvbi51c2VyLmlkID0gdG9rZW4uaWQgYXMgc3RyaW5nO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNlc3Npb247XG4gICAgfSxcbiAgfSxcbiAgc2VjcmV0OiBwcm9jZXNzLmVudi5ORVhUQVVUSF9TRUNSRVQsXG4gIGRlYnVnOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jyxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGF1dGhPcHRpb25zOyAiXSwibmFtZXMiOlsiQ3JlZGVudGlhbHNQcm92aWRlciIsIlByaXNtYUFkYXB0ZXIiLCJwcmlzbWEiLCJiY3J5cHQiLCJwcm9jZXNzIiwiZW52IiwiTkVYVEFVVEhfU0VDUkVUIiwiRXJyb3IiLCJhdXRoT3B0aW9ucyIsImFkYXB0ZXIiLCJwcm92aWRlcnMiLCJuYW1lIiwiY3JlZGVudGlhbHMiLCJlbWFpbCIsImxhYmVsIiwidHlwZSIsInBhc3N3b3JkIiwiYXV0aG9yaXplIiwidXNlciIsImZpbmRVbmlxdWUiLCJ3aGVyZSIsImlzUGFzc3dvcmRWYWxpZCIsImNvbXBhcmUiLCJpZCIsImVycm9yIiwiY29uc29sZSIsInNlc3Npb24iLCJzdHJhdGVneSIsInBhZ2VzIiwic2lnbkluIiwiY2FsbGJhY2tzIiwiand0IiwidG9rZW4iLCJzZWNyZXQiLCJkZWJ1ZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/auth.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/prisma.ts":
/*!***************************!*\
  !*** ./src/lib/prisma.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\n// PrismaClientはグローバルスコープで一度だけ初期化されるようにする\nconst globalForPrisma = globalThis;\nif (!process.env.DATABASE_URL) {\n    throw new Error(\"DATABASE_URL environment variable is not set\");\n}\n// App Engine環境での接続設定\nconst prisma = globalForPrisma.prisma ?? new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient({\n    log: [\n        \"query\",\n        \"error\",\n        \"warn\"\n    ],\n    datasources: {\n        db: {\n            url: process.env.DATABASE_URL\n        }\n    }\n});\nif (true) {\n    globalForPrisma.prisma = prisma;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (prisma);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3ByaXNtYS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQThDO0FBRTlDLHlDQUF5QztBQUN6QyxNQUFNQyxrQkFBa0JDO0FBSXhCLElBQUksQ0FBQ0MsUUFBUUMsR0FBRyxDQUFDQyxZQUFZLEVBQUU7SUFDN0IsTUFBTSxJQUFJQyxNQUFNO0FBQ2xCO0FBRUEscUJBQXFCO0FBQ2QsTUFBTUMsU0FBU04sZ0JBQWdCTSxNQUFNLElBQUksSUFBSVAsd0RBQVlBLENBQUM7SUFDL0RRLEtBQUs7UUFBQztRQUFTO1FBQVM7S0FBTztJQUMvQkMsYUFBYTtRQUNYQyxJQUFJO1lBQ0ZDLEtBQUtSLFFBQVFDLEdBQUcsQ0FBQ0MsWUFBWTtRQUMvQjtJQUNGO0FBQ0YsR0FBRztBQUVILElBQUlGLElBQXlCLEVBQWM7SUFDekNGLGdCQUFnQk0sTUFBTSxHQUFHQTtBQUMzQjtBQUVBLGlFQUFlQSxNQUFNQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVsbGV0aW4tYm9hcmQvLi9zcmMvbGliL3ByaXNtYS50cz8wMWQ3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByaXNtYUNsaWVudCB9IGZyb20gJ0BwcmlzbWEvY2xpZW50JztcblxuLy8gUHJpc21hQ2xpZW5044Gv44Kw44Ot44O844OQ44Or44K544Kz44O844OX44Gn5LiA5bqm44Gg44GR5Yid5pyf5YyW44GV44KM44KL44KI44GG44Gr44GZ44KLXG5jb25zdCBnbG9iYWxGb3JQcmlzbWEgPSBnbG9iYWxUaGlzIGFzIHVua25vd24gYXMge1xuICBwcmlzbWE6IFByaXNtYUNsaWVudCB8IHVuZGVmaW5lZDtcbn07XG5cbmlmICghcHJvY2Vzcy5lbnYuREFUQUJBU0VfVVJMKSB7XG4gIHRocm93IG5ldyBFcnJvcignREFUQUJBU0VfVVJMIGVudmlyb25tZW50IHZhcmlhYmxlIGlzIG5vdCBzZXQnKTtcbn1cblxuLy8gQXBwIEVuZ2luZeeSsOWig+OBp+OBruaOpee2muioreWumlxuZXhwb3J0IGNvbnN0IHByaXNtYSA9IGdsb2JhbEZvclByaXNtYS5wcmlzbWEgPz8gbmV3IFByaXNtYUNsaWVudCh7XG4gIGxvZzogWydxdWVyeScsICdlcnJvcicsICd3YXJuJ10sXG4gIGRhdGFzb3VyY2VzOiB7XG4gICAgZGI6IHtcbiAgICAgIHVybDogcHJvY2Vzcy5lbnYuREFUQUJBU0VfVVJMLFxuICAgIH0sXG4gIH0sXG59KTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgZ2xvYmFsRm9yUHJpc21hLnByaXNtYSA9IHByaXNtYTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgcHJpc21hOyAiXSwibmFtZXMiOlsiUHJpc21hQ2xpZW50IiwiZ2xvYmFsRm9yUHJpc21hIiwiZ2xvYmFsVGhpcyIsInByb2Nlc3MiLCJlbnYiLCJEQVRBQkFTRV9VUkwiLCJFcnJvciIsInByaXNtYSIsImxvZyIsImRhdGFzb3VyY2VzIiwiZGIiLCJ1cmwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/prisma.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/next-auth","vendor-chunks/@babel","vendor-chunks/jose","vendor-chunks/openid-client","vendor-chunks/bcryptjs","vendor-chunks/oauth","vendor-chunks/preact","vendor-chunks/uuid","vendor-chunks/yallist","vendor-chunks/preact-render-to-string","vendor-chunks/cookie","vendor-chunks/@auth","vendor-chunks/oidc-token-hash","vendor-chunks/@panva"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fposts%2Froute&page=%2Fapi%2Fposts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fposts%2Froute.ts&appDir=C%3A%5CUsers%5Cakio5%5CDesktop%5C%E6%8E%B2%E7%A4%BA%E6%9D%BF%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cakio5%5CDesktop%5C%E6%8E%B2%E7%A4%BA%E6%9D%BF&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();